// Generated by CoffeeScript 1.6.2
jQuery(function() {
  var render_retval, submit_for_eval;

  render_retval = function(data) {
    var outval;

    $('.lines').append($("<div class='line'><span>>></span><span class='inval'>" + data.inval + "</span></div>"));
    outval = 'error' in data ? data.error : data.outval;
    outval = outval.replace('<', '&#8249;')
                   .replace('>', '&#8250;')
                   .replace('\n', '<br>')
    return $('.lines').append($("<div class='line'><span class='outval'>" + outval + "</span></div>"));
  };
  submit_for_eval = function(str) {
    return $.post('/eval_string/', {
      string: str
    }, render_retval);
  };
  return $('#input-val').bind('keypress', function(e) {
    if (e.keyCode === 13) {
      return submit_for_eval($(e.currentTarget).val());
    }
  });
});
